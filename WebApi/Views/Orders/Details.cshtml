@model Application.ViewModels.Orders.OrderDetailsViewModel

@{
    ViewData["Title"] = "Details";
    var success = TempData["successMessage"]?.ToString();
}
@if (!string.IsNullOrWhiteSpace(success))
{
    <div class="alert alert-success">
        <strong>Success! </strong>@success
    </div>
}
<div>
    <h4>Order Details</h4>
    <a asp-action="Index">Back to List</a>
    
    <hr/>
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Number)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Number)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Date)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Date)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.Provider)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.Provider.Name)
        </dd>
    </dl>
    <br/>

    <h5>Order Elements</h5>
    <hr/>
    <dl class="row">
        @for (var i = 0; i < Model.OrderItems.Count; i++)
        {
            <div class="m-2">
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.OrderItems[i].Name)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.OrderItems[i].Name)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.OrderItems[i].Quantity)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.OrderItems[i].Quantity)
                </dd>
                <dt class="col-sm-2">
                    @Html.DisplayNameFor(model => model.OrderItems[i].Unit)
                </dt>
                <dd class="col-sm-10">
                    @Html.DisplayFor(model => model.OrderItems[i].Unit)
                </dd>
            </div>
        }
    </dl>
</div>

<div class="btn-group">
    <form asp-action="Edit" asp-controller="Orders" asp-route-id="@Model.OrderId" method="get">
        <button class="btn btn-primary m-1" type="submit">Edit</button>
    </form>
    <form asp-action="Delete" asp-controller="Orders" asp-route-id="@Model.OrderId" method="post">
        <button class="btn btn-danger m-1">Delete</button>
    </form>
</div>
